import{c as Se,u as Ne,a as ke,j as t,H as Ce,L as Ee}from"./app-DxsfQUJi.js";import{A as Pe}from"./app-layout-e9kzE5wy.js";import{b as Le,c as Ae,d as Fe,C as Ie,a as Ve}from"./card-t-JZ25Uq.js";import{c as ze,B as ye}from"./button-PchWSbes.js";import{I as He}from"./input-BvZvvOIr.js";import{L as le}from"./label-DQs7g4CF.js";import{d as xe,S as je,a as be,c as ge,b as l}from"./select-DpW0WDHc.js";import{A as $e}from"./arrow-left-rZZ7HcbG.js";/* empty css            */import"./app-sidebar-layout-CWp90ihB.js";import"./breadcrumb-DQh3Drij.js";import"./index-DezMigX2.js";import"./dropdown-menu-BhlSbKAy.js";import"./index-CwI4k_fG.js";import"./index-CgxY_J7U.js";import"./index-CSEUMRIG.js";import"./index-CHmcnihG.js";import"./index-BI44xg6_.js";import"./log-out-CK-E1Ehb.js";import"./layout-grid-BgmpgEtx.js";import"./package-C1mDBw64.js";import"./index-CnkcuHUr.js";import"./chevron-down-JuN8FzWa.js";import"./check-BIGgmKJA.js";const De=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Me=ze("Save",De);function mt(n){const e=Se.c(108),{order:s,carriers:ne}=n;let d;e[0]!==s.carrier_id?(d=s.carrier_id?.toString()||"",e[0]=s.carrier_id,e[1]=d):d=e[1];const ce=s.tracking_number||"";let M;e[2]!==s.payment_status||e[3]!==s.status||e[4]!==d||e[5]!==ce?(M={status:s.status,payment_status:s.payment_status,carrier_id:d,tracking_number:ce},e[2]=s.payment_status,e[3]=s.status,e[4]=d,e[5]=ce,e[6]=M):M=e[6];const{data:a,setData:i,put:de,processing:oe,errors:r,transform:me}=Ne(M);let O;e[7]!==me?(O=()=>{me(Re)},e[7]=me,e[8]=O):O=e[8];let R;e[9]!==a.carrier_id?(R=[a.carrier_id],e[9]=a.carrier_id,e[10]=R):R=e[10],ke.useEffect(O,R);let T;e[11]!==s.id||e[12]!==de?(T=c=>{c.preventDefault(),de(`/adminfacchile/orders/${s.id}`)},e[11]=s.id,e[12]=de,e[13]=T):T=e[13];const fe=T;let w,B;e[14]===Symbol.for("react.memo_cache_sentinel")?(w={title:"Panel Administrativo",href:"/adminfacchile"},B={title:"Pedidos",href:"/adminfacchile/orders"},e[14]=w,e[15]=B):(w=e[14],B=e[15]);const ue=`Editar Orden #${s.order_number}`;let G;e[16]!==ue?(G=[w,B,{title:ue,href:"#"}],e[16]=ue,e[17]=G):G=e[17];const he=G,pe=`Editar Orden #${s.order_number}`;let o;e[18]!==pe?(o=t.jsx(Ce,{title:pe}),e[18]=pe,e[19]=o):o=e[19];const _e=`/adminfacchile/orders/${s.id}`;let q;e[20]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(ye,{variant:"outline",size:"icon",children:t.jsx($e,{className:"size-4"})}),e[20]=q):q=e[20];let m;e[21]!==_e?(m=t.jsx(Ee,{href:_e,children:q}),e[21]=_e,e[22]=m):m=e[22];let f;e[23]!==s.order_number?(f=t.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Editar Orden #",s.order_number]}),e[23]=s.order_number,e[24]=f):f=e[24];let J;e[25]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("p",{className:"text-muted-foreground",children:"Actualiza los detalles del pedido"}),e[25]=J):J=e[25];let u;e[26]!==f?(u=t.jsxs("div",{children:[f,J]}),e[26]=f,e[27]=u):u=e[27];let h;e[28]!==m||e[29]!==u?(h=t.jsxs("div",{className:"flex items-center gap-4",children:[m,u]}),e[28]=m,e[29]=u,e[30]=h):h=e[30];let K;e[31]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs(Le,{children:[t.jsx(Ae,{children:"Detalles del Pedido"}),t.jsx(Fe,{children:"Modifica el estado, el pago y la información de envío."})]}),e[31]=K):K=e[31];let Q;e[32]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(le,{htmlFor:"status",children:"Estado del Pedido"}),e[32]=Q):Q=e[32];let p;e[33]!==i?(p=c=>i("status",c),e[33]=i,e[34]=p):p=e[34];let U;e[35]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(je,{children:t.jsx(be,{placeholder:"Selecciona un estado"})}),e[35]=U):U=e[35];let W;e[36]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs(ge,{children:[t.jsx(l,{value:"pending",children:"Pendiente"}),t.jsx(l,{value:"processing",children:"Procesando"}),t.jsx(l,{value:"shipped",children:"Enviado"}),t.jsx(l,{value:"delivered",children:"Entregado"}),t.jsx(l,{value:"cancelled",children:"Cancelado"})]}),e[36]=W):W=e[36];let _;e[37]!==a.status||e[38]!==p?(_=t.jsxs(xe,{value:a.status,onValueChange:p,children:[U,W]}),e[37]=a.status,e[38]=p,e[39]=_):_=e[39];let x;e[40]!==r.status?(x=r.status&&t.jsx("p",{className:"text-sm text-red-500",children:r.status}),e[40]=r.status,e[41]=x):x=e[41];let j;e[42]!==_||e[43]!==x?(j=t.jsxs("div",{className:"space-y-2",children:[Q,_,x]}),e[42]=_,e[43]=x,e[44]=j):j=e[44];let X;e[45]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(le,{htmlFor:"payment_status",children:"Estado de Pago"}),e[45]=X):X=e[45];let b;e[46]!==i?(b=c=>i("payment_status",c),e[46]=i,e[47]=b):b=e[47];let Y;e[48]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(je,{children:t.jsx(be,{placeholder:"Selecciona estado de pago"})}),e[48]=Y):Y=e[48];let Z;e[49]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs(ge,{children:[t.jsx(l,{value:"pending",children:"Pendiente"}),t.jsx(l,{value:"paid",children:"Pagado"}),t.jsx(l,{value:"failed",children:"Fallido"}),t.jsx(l,{value:"refunded",children:"Reembolsado"})]}),e[49]=Z):Z=e[49];let g;e[50]!==a.payment_status||e[51]!==b?(g=t.jsxs(xe,{value:a.payment_status,onValueChange:b,children:[Y,Z]}),e[50]=a.payment_status,e[51]=b,e[52]=g):g=e[52];let y;e[53]!==r.payment_status?(y=r.payment_status&&t.jsx("p",{className:"text-sm text-red-500",children:r.payment_status}),e[53]=r.payment_status,e[54]=y):y=e[54];let v;e[55]!==g||e[56]!==y?(v=t.jsxs("div",{className:"space-y-2",children:[X,g,y]}),e[55]=g,e[56]=y,e[57]=v):v=e[57];let ee;e[58]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(le,{htmlFor:"carrier_id",children:"Transportista"}),e[58]=ee):ee=e[58];const ve=a.carrier_id;let S;e[59]!==i?(S=c=>i("carrier_id",c),e[59]=i,e[60]=S):S=e[60];let te;e[61]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(je,{children:t.jsx(be,{placeholder:"Selecciona transportista"})}),e[61]=te):te=e[61];let se;e[62]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(l,{value:"unassigned",children:"No asignado"}),e[62]=se):se=e[62];let N;e[63]!==ne?(N=ne.map(Oe),e[63]=ne,e[64]=N):N=e[64];let k;e[65]!==N?(k=t.jsxs(ge,{children:[se,N]}),e[65]=N,e[66]=k):k=e[66];let C;e[67]!==a.carrier_id||e[68]!==S||e[69]!==k?(C=t.jsxs(xe,{value:ve,onValueChange:S,children:[te,k]}),e[67]=a.carrier_id,e[68]=S,e[69]=k,e[70]=C):C=e[70];let E;e[71]!==r.carrier_id?(E=r.carrier_id&&t.jsx("p",{className:"text-sm text-red-500",children:r.carrier_id}),e[71]=r.carrier_id,e[72]=E):E=e[72];let P;e[73]!==C||e[74]!==E?(P=t.jsxs("div",{className:"space-y-2",children:[ee,C,E]}),e[73]=C,e[74]=E,e[75]=P):P=e[75];let re;e[76]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(le,{htmlFor:"tracking_number",children:"Número de Seguimiento"}),e[76]=re):re=e[76];let L;e[77]!==i?(L=c=>i("tracking_number",c.target.value),e[77]=i,e[78]=L):L=e[78];let A;e[79]!==a.tracking_number||e[80]!==L?(A=t.jsx(He,{id:"tracking_number",placeholder:"Ingrese tracking number",value:a.tracking_number,onChange:L}),e[79]=a.tracking_number,e[80]=L,e[81]=A):A=e[81];let F;e[82]!==r.tracking_number?(F=r.tracking_number&&t.jsx("p",{className:"text-sm text-red-500",children:r.tracking_number}),e[82]=r.tracking_number,e[83]=F):F=e[83];let I;e[84]!==A||e[85]!==F?(I=t.jsxs("div",{className:"space-y-2",children:[re,A,F]}),e[84]=A,e[85]=F,e[86]=I):I=e[86];let V;e[87]!==P||e[88]!==I?(V=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P,I]}),e[87]=P,e[88]=I,e[89]=V):V=e[89];let ae;e[90]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(Me,{className:"mr-2 size-4"}),e[90]=ae):ae=e[90];let z;e[91]!==oe?(z=t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs(ye,{type:"submit",disabled:oe,children:[ae,"Guardar Cambios"]})}),e[91]=oe,e[92]=z):z=e[92];let H;e[93]!==j||e[94]!==v||e[95]!==V||e[96]!==z?(H=t.jsxs(Ie,{children:[K,t.jsxs(Ve,{className:"space-y-6",children:[j,v,V,z]})]}),e[93]=j,e[94]=v,e[95]=V,e[96]=z,e[97]=H):H=e[97];let $;e[98]!==fe||e[99]!==H?($=t.jsx("form",{onSubmit:fe,children:H}),e[98]=fe,e[99]=H,e[100]=$):$=e[100];let D;e[101]!==h||e[102]!==$?(D=t.jsxs("div",{className:"space-y-6 p-6 max-w-2xl mx-auto",children:[h,$]}),e[101]=h,e[102]=$,e[103]=D):D=e[103];let ie;return e[104]!==he||e[105]!==o||e[106]!==D?(ie=t.jsxs(Pe,{breadcrumbs:he,children:[o,D]}),e[104]=he,e[105]=o,e[106]=D,e[107]=ie):ie=e[107],ie}function Oe(n){return t.jsx(l,{value:n.id.toString(),children:n.name},n.id)}function Re(n){return{...n,carrier_id:n.carrier_id&&n.carrier_id!=="unassigned"?parseInt(n.carrier_id):null}}export{mt as default};
