const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/app-kLTWDAhF.js","assets/app-BXDIjoMq.css"])))=>i.map(i=>d[i]);
import{a as F,r as q,j as e,H as W,L as E,_ as G,c as Z}from"./app-kLTWDAhF.js";import{c as J,B as M,a as N}from"./button-BrAg7e5g.js";import{u as K,H as Q,F as U,W as X}from"./WhatsAppFloating-Xw71eTMF.js";import{B as Y}from"./badge-Nn_2_7MY.js";import{C as $}from"./checkbox-pLK46ZSh.js";import{d as P,S as A,a as H,c as R,b as p}from"./select-Dql27kpO.js";import{S as ee}from"./separator-BY2B0X-I.js";import{B as se,a as te,b as V,c as ae,d as re,e as le,S as ce,f as O,g as ie,h as de,i as ne,j as oe}from"./breadcrumb-CcLj4_4s.js";import{L as xe}from"./layout-grid-DyiPhOuM.js";import{L as me}from"./list-B6dz1FuE.js";import{S as he,C as pe}from"./dropdown-menu-BwQ6lBD5.js";import{C as ue}from"./chevron-down-BT7dPZjd.js";/* empty css            */import"./input-c1ehzcam.js";import"./truck-Bnywy6Zj.js";import"./user-BCrfBWqD.js";import"./shield-check-BDgbu9QS.js";import"./phone-C-YrCXal.js";import"./search-COCbplcl.js";import"./index-X1yLg1Ew.js";import"./check-D1fbw-1A.js";import"./index-BaLexKSW.js";import"./index-CXvVUomq.js";import"./index-CJWV75tl.js";const ge=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],z=J("Filter",ge),I=u=>{const s=Z.c(42),{category:r,selectedSlugs:a,onToggle:x}=u;let g;s[0]!==r.slug||s[1]!==a?(g=a.includes(r.slug),s[0]=r.slug,s[1]=a,s[2]=g):g=s[2];const v=g;let d;s[3]!==r.children||s[4]!==a?(d=r.children?.some(f=>a.includes(f.slug)||f.children?.some(D=>a.includes(D.slug))),s[3]=r.children,s[4]=a,s[5]=d):d=s[5];const m=d,[n,L]=F.useState(m);let o,h;s[6]!==m?(o=()=>{m&&L(!0)},h=[m],s[6]=m,s[7]=o,s[8]=h):(o=s[7],h=s[8]),F.useEffect(o,h);const b=r.total_products_count??r.products_count;let t;s[9]!==r.children||s[10]!==n?(t=r.children&&r.children.length>0&&e.jsx("button",{type:"button",onClick:()=>L(!n),className:"p-0.5 text-slate-400 hover:text-slate-600 focus:outline-none",children:n?e.jsx(ue,{className:"w-3 h-3"}):e.jsx(pe,{className:"w-3 h-3"})}),s[9]=r.children,s[10]=n,s[11]=t):t=s[11];const c=`cat-${r.slug}`;let l;s[12]!==r.slug||s[13]!==x?(l=f=>x(r.slug,f===!0),s[12]=r.slug,s[13]=x,s[14]=l):l=s[14];let i;s[15]!==v||s[16]!==c||s[17]!==l?(i=e.jsx($,{id:c,className:"rounded-none w-3.5 h-3.5 border-slate-300 data-[state=checked]:bg-slate-900 data-[state=checked]:border-slate-900",checked:v,onCheckedChange:l}),s[15]=v,s[16]=c,s[17]=l,s[18]=i):i=s[18];const j=`cat-${r.slug}`,B=v?"font-bold text-slate-900 dark:text-white":"text-slate-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white";let w;s[19]!==B?(w=N("text-sm transition-colors cursor-pointer select-none",B),s[19]=B,s[20]=w):w=s[20];let k;s[21]!==r.name||s[22]!==w||s[23]!==j?(k=e.jsx("label",{htmlFor:j,className:w,children:r.name}),s[21]=r.name,s[22]=w,s[23]=j,s[24]=k):k=s[24];let y;s[25]!==k||s[26]!==t||s[27]!==i?(y=e.jsxs("div",{className:"flex items-center gap-2",children:[t,i,k]}),s[25]=k,s[26]=t,s[27]=i,s[28]=y):y=s[28];let C;s[29]!==b?(C=b>0&&e.jsxs("span",{className:"text-[10px] text-slate-400",children:["(",b,")"]}),s[29]=b,s[30]=C):C=s[30];let S;s[31]!==y||s[32]!==C?(S=e.jsxs("div",{className:"flex items-center justify-between group py-1",children:[y,C]}),s[31]=y,s[32]=C,s[33]=S):S=s[33];let _;s[34]!==r.children||s[35]!==n||s[36]!==x||s[37]!==a?(_=n&&r.children&&e.jsx("div",{className:"ml-4 border-l border-slate-100 pl-2 space-y-1 mt-1",children:r.children.map(f=>e.jsx(I,{category:f,selectedSlugs:a,onToggle:x},f.id))}),s[34]=r.children,s[35]=n,s[36]=x,s[37]=a,s[38]=_):_=s[38];let T;return s[39]!==S||s[40]!==_?(T=e.jsxs("div",{className:"ml-1",children:[S,_]}),s[39]=S,s[40]=_,s[41]=T):T=s[41],T};function Oe({paginatedProducts:u,categories:s,brands:r,filters:a,onlyOffers:x=!1,currentCategory:g}){const v=K(t=>t.addToCart),[d,m]=F.useState("grid"),[n,L]=F.useState(a.search||"");F.useEffect(()=>{const t=setTimeout(()=>{n!==(a.search||"")&&o({search:n})},500);return()=>clearTimeout(t)},[n]);const o=t=>{q.get("/catalogo",{...a,...t},{preserveState:!0,preserveScroll:!0,replace:!0})},h=(t,c)=>{const l=a.category?a.category.split(","):[];let i;c?i=[...l,t]:i=l.filter(j=>j!==t),o({category:i.length>0?i.join(","):void 0})},b=(t,c)=>{const l=a.brand?a.brand.split(","):[];let i;c?i=[...l,t]:i=l.filter(j=>j!==t),o({brand:i.length>0?i.join(","):void 0})};return e.jsx("div",{className:"min-h-screen bg-white dark:bg-[#0a0a0a]",children:e.jsxs("div",{className:"pt-[110px] md:pt-[145px] lg:pt-[155px]",children:[" ",e.jsx(W,{title:x?"Ofertas Especiales | Facchile Outdoor":"Catálogo | Facchile Outdoor"}),e.jsx(Q,{}),e.jsx("div",{className:"bg-[#f4f4f4] py-3 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[e.jsx(se,{children:e.jsxs(te,{children:[e.jsx(V,{children:e.jsx(ae,{href:"/",className:"text-xs text-slate-500 uppercase",children:"Inicio"})}),e.jsx(re,{}),e.jsx(V,{children:e.jsx(le,{className:"text-xs font-bold text-slate-900 uppercase dark:text-white",children:x?"Ofertas":"Productos"})})]})}),e.jsxs("div",{className:"text-right flex items-center gap-2",children:[e.jsx("h1",{className:"text-sm font-black uppercase text-slate-900 dark:text-white tracking-tight",children:x?"Ofertas":g?g.name:"Productos"}),e.jsxs("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-widest",children:["(",u.total," Productos)"]})]})]})}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:hidden mb-8 -mx-4 px-4 overflow-x-auto no-scrollbar flex items-center gap-2 pb-2",children:[e.jsx(M,{variant:a.category?"outline":"default",size:"sm",className:"rounded-full text-[10px] h-8 px-4 shrink-0 font-bold uppercase tracking-tight",onClick:()=>o({category:void 0}),children:"Todo"}),s.map(t=>e.jsx(M,{variant:a.category?.split(",").includes(t.slug)?"default":"outline",size:"sm",className:N("rounded-full text-[10px] h-8 px-4 shrink-0 font-bold uppercase tracking-tight transition-all",a.category?.split(",").includes(t.slug)?"bg-brand-primary text-white border-brand-primary":""),onClick:()=>h(t.slug,!a.category?.split(",").includes(t.slug)),children:t.name},t.id))]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[e.jsxs("aside",{className:"w-full lg:w-64 flex-none space-y-8",children:[e.jsxs("div",{className:"lg:hidden flex justify-between items-center mb-6 gap-3",children:[e.jsxs(ce,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(M,{variant:"outline",className:"flex-1 gap-2 h-11 font-bold",children:[e.jsx(z,{className:"w-4 h-4"})," Filtros Avanzados"]})}),e.jsxs(ie,{side:"left",className:"w-full sm:w-[320px] p-0 bg-white dark:bg-[#0a0a0a]",children:[e.jsxs(de,{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:[e.jsx(ne,{className:"text-left font-black uppercase text-slate-900 dark:text-white",children:"Filtros"}),e.jsx(oe,{className:"text-left",children:"Ajusta los parámetros de búsqueda."})]}),e.jsx("div",{className:"p-6 overflow-y-auto h-[calc(100vh-140px)] custom-scrollbar",children:e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase text-slate-400 mb-6 tracking-widest border-l-2 border-brand-primary pl-3",children:"Categorías"}),e.jsx("div",{className:"space-y-3",children:s.map(t=>e.jsx(I,{category:t,selectedSlugs:a.category?.split(",")||[],onToggle:h},t.id))})]}),e.jsxs("div",{className:"mb-0",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase text-slate-400 mb-6 tracking-widest border-l-2 border-brand-primary pl-3",children:"Marcas"}),e.jsx("div",{className:"space-y-4",children:r.map(t=>e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{id:`drawer-brand-${t.id}`,className:"rounded-none border-slate-300",checked:a.brand?.split(",").includes(t.name),onCheckedChange:c=>b(t.name,c===!0)}),e.jsx("label",{htmlFor:`drawer-brand-${t.id}`,className:"text-sm font-medium text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-white cursor-pointer",children:t.name})]}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400",children:["(",t.products_count,")"]})]},t.id))})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white dark:bg-[#0a0a0a] border-t border-slate-100 dark:border-slate-800",children:e.jsx(O,{asChild:!0,children:e.jsxs(M,{className:"w-full bg-brand-primary h-12 font-bold uppercase tracking-widest text-xs",children:["Ver ",u.total," Productos"]})})})]})]}),e.jsxs(P,{value:a.sort||"popular",onValueChange:t=>o({sort:t}),children:[e.jsx(A,{className:"flex-1 h-11 font-bold",children:e.jsx(H,{placeholder:"Ordenar"})}),e.jsxs(R,{children:[e.jsx(p,{value:"popular",children:"Más Populares"}),e.jsx(p,{value:"newest",children:"Más Recientes"}),e.jsx(p,{value:"price-asc",children:"Precio: Menor a Mayor"}),e.jsx(p,{value:"price-desc",children:"Precio: Mayor a Menor"})]})]})]}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-bold uppercase text-slate-900 dark:text-white",children:"Filtros"}),e.jsx(z,{className:"w-4 h-4 text-slate-400"})]}),e.jsx(ee,{className:"mb-6"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-xs font-bold uppercase text-slate-700 dark:text-slate-300 mb-4 tracking-wider",children:"Categorías"}),e.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:s.map(t=>e.jsx(I,{category:t,selectedSlugs:a.category?.split(",")||[],onToggle:h},t.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-xs font-bold uppercase text-slate-700 dark:text-slate-300 mb-4 tracking-wider",children:"Marcas"}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:r.map(t=>e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{id:`brand-${t.id}`,className:"rounded-none border-slate-300 data-[state=checked]:bg-slate-900 data-[state=checked]:border-slate-900",checked:a.brand?.split(",").includes(t.name)??!1,onCheckedChange:c=>b(t.name,c===!0)}),e.jsx("label",{htmlFor:`brand-${t.id}`,className:"text-sm text-slate-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white transition-colors cursor-pointer",children:t.name})]}),e.jsxs("span",{className:"text-xs text-slate-400",children:["(",t.products_count,")"]})]},t.id))})]}),e.jsx("div",{children:e.jsx("h4",{className:"text-xs font-bold uppercase text-slate-700 dark:text-slate-300 mb-4 tracking-wider",children:"Precio"})})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-8 pb-4 border-b border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:"Ver como"}),e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded",children:[e.jsx("button",{onClick:()=>m("grid"),className:N("p-1.5 rounded transition-all",d==="grid"?"bg-white shadow text-black":"text-slate-400 hover:text-slate-600"),children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m("list"),className:N("p-1.5 rounded transition-all",d==="list"?"bg-white shadow text-black":"text-slate-400 hover:text-slate-600"),children:e.jsx(me,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Ordenar por"}),e.jsxs(P,{value:a.sort||"popular",onValueChange:t=>o({sort:t}),children:[e.jsx(A,{className:"w-[200px] border-none bg-transparent hover:bg-slate-50 focus:ring-0 text-slate-900 font-medium text-sm",children:e.jsx(H,{})}),e.jsxs(R,{children:[e.jsx(p,{value:"popular",children:"Alfabéticamente, A-Z"}),e.jsx(p,{value:"newest",children:"Más Recientes"}),e.jsx(p,{value:"price-asc",children:"Precio: Menor a Mayor"}),e.jsx(p,{value:"price-desc",children:"Precio: Mayor a Menor"})]})]})]})]}),e.jsx("div",{className:d==="grid"?"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-8":"flex flex-col gap-6",children:u.data.map(t=>e.jsxs("div",{className:d==="grid"?"group":"group flex gap-6 bg-white border p-4 rounded-lg",children:[e.jsxs("div",{className:d==="grid"?"relative aspect-square bg-[#f6f6f6] dark:bg-slate-800 mb-4 overflow-hidden":"relative w-48 aspect-square bg-[#f6f6f6] dark:bg-slate-800 flex-none",children:[e.jsx(E,{href:`/producto/${t.slug}`,className:"block w-full h-full",children:e.jsx("img",{src:t.main_image_url||"/images/gentepescando.jpeg",alt:t.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500 mix-blend-multiply dark:mix-blend-normal",onError:c=>{c.currentTarget.src="/images/gentepescando.jpeg"}})}),t.is_restricted&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(Y,{className:"bg-red-600 hover:bg-red-700 text-[10px] uppercase font-bold tracking-wider rounded-sm",children:"Restringido"})})]}),e.jsxs("div",{className:N("p-2 md:p-0",d==="grid"?"text-center md:text-left":"flex-1 flex flex-col justify-center"),children:[t.brand&&e.jsx("p",{className:"text-[9px] md:text-[11px] font-bold uppercase tracking-wider text-slate-400 mb-1",children:t.brand.name}),e.jsx("h3",{className:"text-xs md:text-sm font-bold text-slate-900 dark:text-white mb-2 leading-tight min-h-[3em] md:min-h-[2.5em]",children:e.jsx(E,{href:`/producto/${t.slug}`,className:"hover:text-brand-primary transition-colors line-clamp-2",children:t.name})}),e.jsxs("div",{className:"flex items-center justify-between mt-1 md:mt-2",children:[e.jsxs("p",{className:"text-sm md:text-lg font-black text-slate-900 dark:text-white",children:["$",parseFloat(t.base_price.toString()).toLocaleString("es-CL")]}),e.jsx("button",{className:"flex items-center justify-center w-7 h-7 md:w-8 md:h-8 bg-brand-primary text-white rounded-full hover:bg-brand-secondary transition-all shadow-sm",onClick:c=>{c.preventDefault(),v(t),G(async()=>{const{router:l}=await import("./app-kLTWDAhF.js").then(i=>i.i);return{router:l}},__vite__mapDeps([0,1])).then(({router:l})=>{l.visit("/checkout")})},title:"Agregar al carrito",children:e.jsx(he,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]})]})]},t.id))}),u.links.length>3&&e.jsx("div",{className:"mt-16 flex justify-center",children:e.jsx("nav",{className:"flex items-center gap-2",children:u.links.map((t,c)=>{const l=!isNaN(Number(t.label));return t.url?e.jsx(E,{href:t.url,preserveScroll:!0,preserveState:!0,children:e.jsx(M,{variant:t.active?"default":"outline",size:"sm",className:N("h-10 px-3",l?"w-10 p-0":"w-auto px-4",t.active?"bg-slate-900 text-white border-slate-900":"border-slate-200 text-slate-600 hover:bg-slate-50"),dangerouslySetInnerHTML:{__html:t.label}})},c):e.jsx("span",{className:N("flex items-center justify-center h-10 px-2 text-slate-300",!l&&"px-4"),dangerouslySetInnerHTML:{__html:t.label}},c)})})})]})]})]}),e.jsx(U,{}),e.jsx(X,{})]})})}export{Oe as default};
