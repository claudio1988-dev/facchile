import{c as di,u as mi,a as at,j as t,t as mt,r as Us,H as fi,L as Xs}from"./app-DxsfQUJi.js";import{A as hi}from"./app-layout-e9kzE5wy.js";import{b as ft,c as ht,C as ut,a as pt,d as ui}from"./card-t-JZ25Uq.js";import{c as pi,B as h,a as gi}from"./button-PchWSbes.js";import{I as p}from"./input-BvZvvOIr.js";import{L as d}from"./label-DQs7g4CF.js";import{C as hs}from"./checkbox-CKpEYk7g.js";import{S as Gs,a as Ts,c as Bs,d as Hs,b as Os}from"./select-DpW0WDHc.js";import{I as Qs,c as Ys,U as Ws}from"./image-compression-CgsulUFb.js";import{A as _i}from"./arrow-left-rZZ7HcbG.js";import{X as Ms}from"./dropdown-menu-BhlSbKAy.js";import{S as xi}from"./square-pen-Bn8BzX94.js";/* empty css            */import"./app-sidebar-layout-CWp90ihB.js";import"./breadcrumb-DQh3Drij.js";import"./index-DezMigX2.js";import"./index-CwI4k_fG.js";import"./index-CgxY_J7U.js";import"./index-CSEUMRIG.js";import"./index-CHmcnihG.js";import"./index-BI44xg6_.js";import"./log-out-CK-E1Ehb.js";import"./layout-grid-BgmpgEtx.js";import"./package-C1mDBw64.js";import"./index-CnkcuHUr.js";import"./check-BIGgmKJA.js";import"./chevron-down-JuN8FzWa.js";const ji=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],yi=pi("Trash",ji),vi=[{title:"Panel Administrativo",href:"/adminfacchile"},{title:"Productos",href:"/adminfacchile/products"},{title:"Editar Producto",href:"#"}];function el(m){const e=di.c(353),{product:a,categories:us,brands:ps,shippingClasses:gs,restrictionTypes:_s}=m,Zs=a.name,ei=a.slug,ti=a.category_id,si=a.brand_id,ii=a.shipping_class_id,xs=a.description||"",js=a.short_description||"",li=a.base_price,ys=!!a.is_active,vs=!!a.is_restricted,bs=!!a.age_verification_required,Ns=a.main_image_url||"";let g;e[0]!==a.gallery?(g=a.gallery||[],e[0]=a.gallery,e[1]=g):g=e[1];let gt;e[2]===Symbol.for("react.memo_cache_sentinel")?(gt=[],e[2]=gt):gt=e[2];let _;e[3]!==a.restriction_type_ids?(_=a.restriction_type_ids||[],e[3]=a.restriction_type_ids,e[4]=_):_=e[4];let _t;e[5]!==a.base_price||e[6]!==a.brand_id||e[7]!==a.category_id||e[8]!==a.name||e[9]!==a.shipping_class_id||e[10]!==a.slug||e[11]!==vs||e[12]!==bs||e[13]!==Ns||e[14]!==g||e[15]!==_||e[16]!==xs||e[17]!==js||e[18]!==ys?(_t={_method:"PUT",name:Zs,slug:ei,category_id:ti,brand_id:si,shipping_class_id:ii,description:xs,short_description:js,base_price:li,is_active:ys,is_restricted:vs,age_verification_required:bs,main_image_url:Ns,main_image:null,existing_gallery:g,gallery_images:gt,restriction_type_ids:_},e[5]=a.base_price,e[6]=a.brand_id,e[7]=a.category_id,e[8]=a.name,e[9]=a.shipping_class_id,e[10]=a.slug,e[11]=vs,e[12]=bs,e[13]=Ns,e[14]=g,e[15]=_,e[16]=xs,e[17]=js,e[18]=ys,e[19]=_t):_t=e[19];const{data:i,setData:l,post:Ss,processing:xt,errors:c}=mi(_t),[jt,Cs]=at.useState(a.main_image_url);let yt;e[20]===Symbol.for("react.memo_cache_sentinel")?(yt=[],e[20]=yt):yt=e[20];const[x,Ks]=at.useState(yt),vt=at.useRef(null),rt=at.useRef(null);let bt;e[21]===Symbol.for("react.memo_cache_sentinel")?(bt={name:"",sku:"",price:"",stock_quantity:"",is_active:!0},e[21]=bt):bt=e[21];const[n,j]=at.useState(bt),[f,Js]=at.useState(null);let Nt;e[22]!==Ss||e[23]!==a.id?(Nt=s=>{s.preventDefault(),Ss(`/adminfacchile/products/${a.id}`,{forceFormData:!0})},e[22]=Ss,e[23]=a.id,e[24]=Nt):Nt=e[24];const ks=Nt;let St;e[25]!==l?(St=async s=>{const r=s.target.files?.[0];if(r)try{const o=await Ys(r);l("main_image",o);const u=new FileReader;u.onloadend=()=>{Cs(u.result)},u.readAsDataURL(o)}catch{mt.error("Error al procesar la imagen")}},e[25]=l,e[26]=St):St=e[26];const ws=St;let Ct;e[27]!==l?(Ct=()=>{l(ki),Cs(null),vt.current&&(vt.current.value="")},e[27]=l,e[28]=Ct):Ct=e[28];const Is=Ct;let kt;e[29]!==i.gallery_images||e[30]!==l?(kt=async s=>{const r=Array.from(s.target.files||[]);if(r.length>0){const o=mt.loading("Procesando imágenes...");try{const u=await Promise.all(r.map(Ci));l("gallery_images",[...i.gallery_images,...u]),u.forEach(ni=>{const Ds=new FileReader;Ds.onloadend=()=>{Ks(oi=>[...oi,Ds.result])},Ds.readAsDataURL(ni)}),mt.dismiss(o)}catch{mt.error("Error al procesar galería"),mt.dismiss(o)}rt.current&&(rt.current.value="")}},e[29]=i.gallery_images,e[30]=l,e[31]=kt):kt=e[31];const Ps=kt;let wt;e[32]!==i.existing_gallery||e[33]!==l?(wt=s=>{const r=[...i.existing_gallery];r.splice(s,1),l("existing_gallery",r)},e[32]=i.existing_gallery,e[33]=l,e[34]=wt):wt=e[34];const ct=wt;let It;e[35]!==i.gallery_images||e[36]!==x||e[37]!==l?(It=s=>{const r=[...i.gallery_images];r.splice(s,1),l("gallery_images",r);const o=[...x];o.splice(s,1),Ks(o)},e[35]=i.gallery_images,e[36]=x,e[37]=l,e[38]=It):It=e[38];const nt=It;let Pt;e[39]===Symbol.for("react.memo_cache_sentinel")?(Pt=()=>{j({name:"",sku:"",price:"",stock_quantity:"",is_active:!0}),Js(null)},e[39]=Pt):Pt=e[39];const qs=Pt;let qt;e[40]!==n||e[41]!==a.id?(qt=s=>{s.preventDefault(),Us.post(`/adminfacchile/products/${a.id}/variants`,n,{onSuccess:()=>qs(),preserveScroll:!0})},e[40]=n,e[41]=a.id,e[42]=qt):qt=e[42];const ai=qt;let Vt;e[43]===Symbol.for("react.memo_cache_sentinel")?(Vt=s=>{Js(s.id),j({name:s.name,sku:s.sku||"",price:s.price,stock_quantity:s.stock_quantity.toString(),is_active:s.is_active})},e[43]=Vt):Vt=e[43];const ri=Vt;let Et;e[44]!==f||e[45]!==n||e[46]!==a.id?(Et=s=>{s.preventDefault(),f&&Us.put(`/adminfacchile/products/${a.id}/variants/${f}`,n,{onSuccess:()=>qs(),preserveScroll:!0})},e[44]=f,e[45]=n,e[46]=a.id,e[47]=Et):Et=e[47];const ci=Et;let Ft;e[48]!==a.id?(Ft=s=>{confirm("¿Estás seguro de eliminar esta variante?")&&Us.delete(`/adminfacchile/products/${a.id}/variants/${s}`,{preserveScroll:!0})},e[48]=a.id,e[49]=Ft):Ft=e[49];const ot=Ft;let At;e[50]!==i.restriction_type_ids||e[51]!==l?(At=(s,r)=>{const o=i.restriction_type_ids;r?l("restriction_type_ids",[...o,s]):l("restriction_type_ids",o.filter(u=>u!==s))},e[50]=i.restriction_type_ids,e[51]=l,e[52]=At):At=e[52];const dt=At,Vs=`Editar ${a.name} - Panel Administrativo`;let y;e[53]!==Vs?(y=t.jsx(fi,{title:Vs}),e[53]=Vs,e[54]=y):y=e[54];let Rt,zt;e[55]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(Xs,{href:"/adminfacchile/products",children:t.jsx(h,{variant:"outline",size:"icon",children:t.jsx(_i,{className:"size-4"})})}),zt=t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Editar Producto"}),e[55]=Rt,e[56]=zt):(Rt=e[55],zt=e[56]);let v;e[57]!==a.name?(v=t.jsxs("div",{className:"flex items-center gap-4",children:[Rt,t.jsxs("div",{children:[zt,t.jsx("p",{className:"text-muted-foreground",children:a.name})]})]}),e[57]=a.name,e[58]=v):v=e[58];let Lt;e[59]===Symbol.for("react.memo_cache_sentinel")?(Lt=t.jsx(ft,{children:t.jsx(ht,{children:"Información General"})}),e[59]=Lt):Lt=e[59];let $t;e[60]===Symbol.for("react.memo_cache_sentinel")?($t=t.jsx(d,{htmlFor:"name",children:"Nombre del Producto *"}),e[60]=$t):$t=e[60];let b;e[61]!==l?(b=s=>l("name",s.target.value),e[61]=l,e[62]=b):b=e[62];let N;e[63]!==i.name||e[64]!==b?(N=t.jsx(p,{id:"name",value:i.name,onChange:b}),e[63]=i.name,e[64]=b,e[65]=N):N=e[65];let S;e[66]!==c.name?(S=c.name&&t.jsx("p",{className:"text-sm text-destructive",children:c.name}),e[66]=c.name,e[67]=S):S=e[67];let C;e[68]!==N||e[69]!==S?(C=t.jsxs("div",{className:"space-y-2",children:[$t,N,S]}),e[68]=N,e[69]=S,e[70]=C):C=e[70];let Dt;e[71]===Symbol.for("react.memo_cache_sentinel")?(Dt=t.jsx(d,{htmlFor:"slug",children:"Slug (URL) *"}),e[71]=Dt):Dt=e[71];let k;e[72]!==l?(k=s=>l("slug",s.target.value),e[72]=l,e[73]=k):k=e[73];let w;e[74]!==i.slug||e[75]!==k?(w=t.jsx(p,{id:"slug",value:i.slug,onChange:k}),e[74]=i.slug,e[75]=k,e[76]=w):w=e[76];let I;e[77]!==c.slug?(I=c.slug&&t.jsx("p",{className:"text-sm text-destructive",children:c.slug}),e[77]=c.slug,e[78]=I):I=e[78];let P;e[79]!==w||e[80]!==I?(P=t.jsxs("div",{className:"space-y-2",children:[Dt,w,I]}),e[79]=w,e[80]=I,e[81]=P):P=e[81];let Ut;e[82]===Symbol.for("react.memo_cache_sentinel")?(Ut=t.jsx(d,{htmlFor:"short_description",children:"Descripción Corta"}),e[82]=Ut):Ut=e[82];let q;e[83]!==l?(q=s=>l("short_description",s.target.value),e[83]=l,e[84]=q):q=e[84];let V;e[85]!==i.short_description||e[86]!==q?(V=t.jsxs("div",{className:"space-y-2",children:[Ut,t.jsx(p,{id:"short_description",value:i.short_description,onChange:q})]}),e[85]=i.short_description,e[86]=q,e[87]=V):V=e[87];let Gt;e[88]===Symbol.for("react.memo_cache_sentinel")?(Gt=t.jsx(d,{htmlFor:"description",children:"Descripción Completa"}),e[88]=Gt):Gt=e[88];let E;e[89]!==l?(E=s=>l("description",s.target.value),e[89]=l,e[90]=E):E=e[90];let F;e[91]!==i.description||e[92]!==E?(F=t.jsxs("div",{className:"space-y-2",children:[Gt,t.jsx("textarea",{id:"description",value:i.description,onChange:E,className:"min-h-32 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),e[91]=i.description,e[92]=E,e[93]=F):F=e[93];let Tt;e[94]===Symbol.for("react.memo_cache_sentinel")?(Tt=t.jsx(d,{children:"Imagen del Producto"}),e[94]=Tt):Tt=e[94];let A;e[95]!==jt||e[96]!==Is?(A=jt?t.jsxs("div",{className:"relative w-full aspect-video md:aspect-square max-w-sm overflow-hidden rounded-lg border",children:[t.jsx("img",{src:jt,alt:"Vista previa",className:"h-full w-full object-contain bg-white"}),t.jsx(h,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full shadow-lg",onClick:Is,children:t.jsx(Ms,{className:"h-4 w-4"})})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 cursor-pointer w-full",onClick:()=>vt.current?.click(),children:[t.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-3",children:t.jsx(Ws,{className:"h-6 w-6 text-primary"})}),t.jsx("p",{className:"text-sm font-medium",children:"Haz clic para subir una imagen"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG hasta 5MB"})]}),e[95]=jt,e[96]=Is,e[97]=A):A=e[97];let R;e[98]!==ws?(R=t.jsx("input",{type:"file",ref:vt,className:"hidden",accept:"image/*",onChange:ws}),e[98]=ws,e[99]=R):R=e[99];let z;e[100]!==A||e[101]!==R?(z=t.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed rounded-lg bg-muted/50 transition-colors hover:bg-muted",children:[A,R]}),e[100]=A,e[101]=R,e[102]=z):z=e[102];let L;e[103]!==c.main_image?(L=c.main_image&&t.jsx("p",{className:"text-sm text-destructive",children:c.main_image}),e[103]=c.main_image,e[104]=L):L=e[104];let Bt;e[105]===Symbol.for("react.memo_cache_sentinel")?(Bt=t.jsx(d,{htmlFor:"main_image_url",children:"O ingresa una URL de Imagen"}),e[105]=Bt):Bt=e[105];let Ht;e[106]===Symbol.for("react.memo_cache_sentinel")?(Ht=t.jsx(Qs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e[106]=Ht):Ht=e[106];let $;e[107]!==i.main_image||e[108]!==l?($=s=>{l("main_image_url",s.target.value),i.main_image||Cs(s.target.value)},e[107]=i.main_image,e[108]=l,e[109]=$):$=e[109];let D;e[110]!==i.main_image_url||e[111]!==$?(D=t.jsxs("div",{className:"relative",children:[Ht,t.jsx(p,{id:"main_image_url",className:"pl-9",placeholder:"https://ejemplo.com/imagen.jpg",value:i.main_image_url,onChange:$})]}),e[110]=i.main_image_url,e[111]=$,e[112]=D):D=e[112];let U;e[113]!==c.main_image_url?(U=c.main_image_url&&t.jsx("p",{className:"text-sm text-destructive",children:c.main_image_url}),e[113]=c.main_image_url,e[114]=U):U=e[114];let G;e[115]!==D||e[116]!==U?(G=t.jsxs("div",{className:"space-y-2",children:[Bt,D,U]}),e[115]=D,e[116]=U,e[117]=G):G=e[117];let T;e[118]!==z||e[119]!==L||e[120]!==G?(T=t.jsxs("div",{className:"space-y-4",children:[Tt,z,L,G]}),e[118]=z,e[119]=L,e[120]=G,e[121]=T):T=e[121];let Mt;e[122]===Symbol.for("react.memo_cache_sentinel")?(Mt=t.jsx(d,{children:"Galería de Imágenes (Opcional)"}),e[122]=Mt):Mt=e[122];let Ot;e[123]===Symbol.for("react.memo_cache_sentinel")?(Ot=t.jsxs("div",{className:"flex items-center justify-between",children:[Mt,t.jsxs(h,{type:"button",variant:"outline",size:"sm",onClick:()=>rt.current?.click(),children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Añadir Imágenes"]})]}),e[123]=Ot):Ot=e[123];let B;e[124]!==Ps?(B=t.jsx("input",{type:"file",ref:rt,className:"hidden",accept:"image/*",multiple:!0,onChange:Ps}),e[124]=Ps,e[125]=B):B=e[125];let H;if(e[126]!==i.existing_gallery||e[127]!==ct){let s;e[129]!==ct?(s=(r,o)=>t.jsxs("div",{className:"relative group aspect-square rounded-lg border overflow-hidden bg-white",children:[t.jsx("img",{src:r,alt:`Imagen ${o}`,className:"h-full w-full object-contain"}),t.jsx(h,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>ct(o),children:t.jsx(Ms,{className:"h-3 w-3"})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-[10px] text-white py-0.5 text-center",children:"Existente"})]},`existing-${o}`),e[129]=ct,e[130]=s):s=e[130],H=i.existing_gallery.map(s),e[126]=i.existing_gallery,e[127]=ct,e[128]=H}else H=e[128];let M;if(e[131]!==x||e[132]!==nt){let s;e[134]!==nt?(s=(r,o)=>t.jsxs("div",{className:"relative group aspect-square rounded-lg border-2 border-primary/20 overflow-hidden bg-white",children:[t.jsx("img",{src:r,alt:"Nueva",className:"h-full w-full object-contain"}),t.jsx(h,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>nt(o),children:t.jsx(Ms,{className:"h-3 w-3"})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-primary/80 text-[10px] text-white py-0.5 text-center",children:"Por subir"})]},`new-${o}`),e[134]=nt,e[135]=s):s=e[135],M=x.map(s),e[131]=x,e[132]=nt,e[133]=M}else M=e[133];let O;e[136]!==i.existing_gallery.length||e[137]!==i.gallery_images?(O=i.existing_gallery.length===0&&i.gallery_images.length===0&&t.jsxs("div",{className:"col-span-full py-8 border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-muted-foreground cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>rt.current?.click(),children:[t.jsx(Qs,{className:"h-8 w-8 mb-2 opacity-20"}),t.jsx("p",{className:"text-sm",children:"No hay imágenes en la galería"})]}),e[136]=i.existing_gallery.length,e[137]=i.gallery_images,e[138]=O):O=e[138];let K;e[139]!==H||e[140]!==M||e[141]!==O?(K=t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[H,M,O]}),e[139]=H,e[140]=M,e[141]=O,e[142]=K):K=e[142];let J;e[143]!==c.gallery_images?(J=c.gallery_images&&t.jsx("p",{className:"text-sm text-destructive",children:c.gallery_images}),e[143]=c.gallery_images,e[144]=J):J=e[144];let X;e[145]!==B||e[146]!==K||e[147]!==J?(X=t.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[Ot,B,K,J]}),e[145]=B,e[146]=K,e[147]=J,e[148]=X):X=e[148];let Q;e[149]!==C||e[150]!==P||e[151]!==V||e[152]!==F||e[153]!==T||e[154]!==X?(Q=t.jsxs(ut,{children:[Lt,t.jsxs(pt,{className:"space-y-4",children:[C,P,V,F,T,X]})]}),e[149]=C,e[150]=P,e[151]=V,e[152]=F,e[153]=T,e[154]=X,e[155]=Q):Q=e[155];let Kt;e[156]===Symbol.for("react.memo_cache_sentinel")?(Kt=t.jsxs(ft,{children:[t.jsx(ht,{children:"Variantes del Producto"}),t.jsx(ui,{children:"Añade tallas, colores o configuraciones diferentes."})]}),e[156]=Kt):Kt=e[156];let W;if(e[157]!==f||e[158]!==ot||e[159]!==a.variants){let s;e[161]!==f||e[162]!==ot?(s=r=>t.jsxs("div",{className:gi("flex items-center justify-between p-4 border rounded-lg transition-colors",f===r.id?"border-brand-primary bg-brand-primary/5":""),children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",r.sku," | Stock: ",r.stock_quantity]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"font-bold mr-2",children:["$",parseFloat(r.price).toLocaleString("es-CL")]}),t.jsx(h,{type:"button",variant:"outline",size:"icon",onClick:()=>ri(r),children:t.jsx(xi,{className:"size-4"})}),t.jsx(h,{type:"button",variant:"destructive",size:"icon",onClick:()=>ot(r.id),children:t.jsx(yi,{className:"size-4"})})]})]},r.id),e[161]=f,e[162]=ot,e[163]=s):s=e[163],W=a.variants.map(s),e[157]=f,e[158]=ot,e[159]=a.variants,e[160]=W}else W=e[160];let Y;e[164]!==W?(Y=t.jsx("div",{className:"space-y-4",children:W}),e[164]=W,e[165]=Y):Y=e[165];const Es=f?"Editar Variante":"Agregar Nueva Variante";let Z;e[166]!==Es?(Z=t.jsx("h4",{className:"font-medium",children:Es}),e[166]=Es,e[167]=Z):Z=e[167];let ee;e[168]!==f?(ee=f&&t.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:qs,children:"Cancelar Edición"}),e[168]=f,e[169]=ee):ee=e[169];let te;e[170]!==Z||e[171]!==ee?(te=t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Z,ee]}),e[170]=Z,e[171]=ee,e[172]=te):te=e[172];let Jt;e[173]===Symbol.for("react.memo_cache_sentinel")?(Jt=t.jsx(d,{children:"Nombre (ej. Talla L)"}),e[173]=Jt):Jt=e[173];let se;e[174]!==n?(se=s=>j({...n,name:s.target.value}),e[174]=n,e[175]=se):se=e[175];let ie;e[176]!==n.name||e[177]!==se?(ie=t.jsxs("div",{children:[Jt,t.jsx(p,{value:n.name,onChange:se,placeholder:"Nombre de la variante"})]}),e[176]=n.name,e[177]=se,e[178]=ie):ie=e[178];let Xt;e[179]===Symbol.for("react.memo_cache_sentinel")?(Xt=t.jsx(d,{children:"SKU"}),e[179]=Xt):Xt=e[179];let le;e[180]!==n?(le=s=>j({...n,sku:s.target.value}),e[180]=n,e[181]=le):le=e[181];let ae;e[182]!==n.sku||e[183]!==le?(ae=t.jsxs("div",{children:[Xt,t.jsx(p,{value:n.sku,onChange:le,placeholder:"Código único"})]}),e[182]=n.sku,e[183]=le,e[184]=ae):ae=e[184];let Qt;e[185]===Symbol.for("react.memo_cache_sentinel")?(Qt=t.jsx(d,{children:"Precio"}),e[185]=Qt):Qt=e[185];let re;e[186]!==n?(re=s=>j({...n,price:s.target.value}),e[186]=n,e[187]=re):re=e[187];let ce;e[188]!==n.price||e[189]!==re?(ce=t.jsxs("div",{children:[Qt,t.jsx(p,{type:"number",value:n.price,onChange:re,placeholder:"0.00"})]}),e[188]=n.price,e[189]=re,e[190]=ce):ce=e[190];const Fs=f?"Actual":"Inicial";let ne;e[191]!==Fs?(ne=t.jsxs(d,{children:["Stock ",Fs]}),e[191]=Fs,e[192]=ne):ne=e[192];let oe;e[193]!==n?(oe=s=>j({...n,stock_quantity:s.target.value}),e[193]=n,e[194]=oe):oe=e[194];let de;e[195]!==n.stock_quantity||e[196]!==oe?(de=t.jsx(p,{type:"number",value:n.stock_quantity,onChange:oe,placeholder:"0"}),e[195]=n.stock_quantity,e[196]=oe,e[197]=de):de=e[197];let me;e[198]!==ne||e[199]!==de?(me=t.jsxs("div",{children:[ne,de]}),e[198]=ne,e[199]=de,e[200]=me):me=e[200];let fe;e[201]!==ie||e[202]!==ae||e[203]!==ce||e[204]!==me?(fe=t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[ie,ae,ce,me]}),e[201]=ie,e[202]=ae,e[203]=ce,e[204]=me,e[205]=fe):fe=e[205];const As=f?ci:ai,Rs=!n.name||!n.price,zs=f?"bg-amber-600 hover:bg-amber-700 text-white":"",Ls=f?"Actualizar Variante":"Agregar Variante";let he;e[206]!==Ls||e[207]!==As||e[208]!==Rs||e[209]!==zs?(he=t.jsx(h,{type:"button",onClick:As,disabled:Rs,className:zs,children:Ls}),e[206]=Ls,e[207]=As,e[208]=Rs,e[209]=zs,e[210]=he):he=e[210];let ue;e[211]!==he||e[212]!==te||e[213]!==fe?(ue=t.jsxs("div",{className:"border-t pt-4 mt-4",children:[te,fe,he]}),e[211]=he,e[212]=te,e[213]=fe,e[214]=ue):ue=e[214];let pe;e[215]!==ue||e[216]!==Y?(pe=t.jsxs(ut,{children:[Kt,t.jsxs(pt,{className:"space-y-4",children:[Y,ue]})]}),e[215]=ue,e[216]=Y,e[217]=pe):pe=e[217];let ge;e[218]!==pe||e[219]!==Q?(ge=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[Q,pe]}),e[218]=pe,e[219]=Q,e[220]=ge):ge=e[220];let Wt;e[221]===Symbol.for("react.memo_cache_sentinel")?(Wt=t.jsx(ft,{children:t.jsx(ht,{children:"Clasificación"})}),e[221]=Wt):Wt=e[221];let Yt;e[222]===Symbol.for("react.memo_cache_sentinel")?(Yt=t.jsx(d,{htmlFor:"category_id",children:"Categoría *"}),e[222]=Yt):Yt=e[222];let _e;e[223]!==i.category_id?(_e=i.category_id.toString(),e[223]=i.category_id,e[224]=_e):_e=e[224];let xe;e[225]!==l?(xe=s=>l("category_id",parseInt(s)),e[225]=l,e[226]=xe):xe=e[226];let Zt;e[227]===Symbol.for("react.memo_cache_sentinel")?(Zt=t.jsx(Gs,{children:t.jsx(Ts,{placeholder:"Selecciona una categoría"})}),e[227]=Zt):Zt=e[227];let je;e[228]!==us?(je=us.map(Si),e[228]=us,e[229]=je):je=e[229];let ye;e[230]!==je?(ye=t.jsx(Bs,{children:je}),e[230]=je,e[231]=ye):ye=e[231];let ve;e[232]!==_e||e[233]!==xe||e[234]!==ye?(ve=t.jsxs(Hs,{value:_e,onValueChange:xe,children:[Zt,ye]}),e[232]=_e,e[233]=xe,e[234]=ye,e[235]=ve):ve=e[235];let be;e[236]!==c.category_id?(be=c.category_id&&t.jsx("p",{className:"text-sm text-destructive",children:c.category_id}),e[236]=c.category_id,e[237]=be):be=e[237];let Ne;e[238]!==ve||e[239]!==be?(Ne=t.jsxs("div",{className:"space-y-2",children:[Yt,ve,be]}),e[238]=ve,e[239]=be,e[240]=Ne):Ne=e[240];let es;e[241]===Symbol.for("react.memo_cache_sentinel")?(es=t.jsx(d,{htmlFor:"brand_id",children:"Marca"}),e[241]=es):es=e[241];let Se;e[242]!==i.brand_id?(Se=i.brand_id?.toString()||"",e[242]=i.brand_id,e[243]=Se):Se=e[243];let Ce;e[244]!==l?(Ce=s=>l("brand_id",parseInt(s)),e[244]=l,e[245]=Ce):Ce=e[245];let ts;e[246]===Symbol.for("react.memo_cache_sentinel")?(ts=t.jsx(Gs,{children:t.jsx(Ts,{placeholder:"Selecciona una marca"})}),e[246]=ts):ts=e[246];let ke;e[247]!==ps?(ke=ps.map(Ni),e[247]=ps,e[248]=ke):ke=e[248];let we;e[249]!==ke?(we=t.jsx(Bs,{children:ke}),e[249]=ke,e[250]=we):we=e[250];let Ie;e[251]!==Se||e[252]!==Ce||e[253]!==we?(Ie=t.jsxs("div",{className:"space-y-2",children:[es,t.jsxs(Hs,{value:Se,onValueChange:Ce,children:[ts,we]})]}),e[251]=Se,e[252]=Ce,e[253]=we,e[254]=Ie):Ie=e[254];let ss;e[255]===Symbol.for("react.memo_cache_sentinel")?(ss=t.jsx(d,{htmlFor:"shipping_class_id",children:"Clase de Envío *"}),e[255]=ss):ss=e[255];let Pe;e[256]!==i.shipping_class_id?(Pe=i.shipping_class_id.toString(),e[256]=i.shipping_class_id,e[257]=Pe):Pe=e[257];let qe;e[258]!==l?(qe=s=>l("shipping_class_id",parseInt(s)),e[258]=l,e[259]=qe):qe=e[259];let is;e[260]===Symbol.for("react.memo_cache_sentinel")?(is=t.jsx(Gs,{children:t.jsx(Ts,{placeholder:"Selecciona clase de envío"})}),e[260]=is):is=e[260];let Ve;e[261]!==gs?(Ve=gs.map(bi),e[261]=gs,e[262]=Ve):Ve=e[262];let Ee;e[263]!==Ve?(Ee=t.jsx(Bs,{children:Ve}),e[263]=Ve,e[264]=Ee):Ee=e[264];let Fe;e[265]!==Pe||e[266]!==qe||e[267]!==Ee?(Fe=t.jsxs(Hs,{value:Pe,onValueChange:qe,children:[is,Ee]}),e[265]=Pe,e[266]=qe,e[267]=Ee,e[268]=Fe):Fe=e[268];let Ae;e[269]!==c.shipping_class_id?(Ae=c.shipping_class_id&&t.jsx("p",{className:"text-sm text-destructive",children:c.shipping_class_id}),e[269]=c.shipping_class_id,e[270]=Ae):Ae=e[270];let Re;e[271]!==Fe||e[272]!==Ae?(Re=t.jsxs("div",{className:"space-y-2",children:[ss,Fe,Ae]}),e[271]=Fe,e[272]=Ae,e[273]=Re):Re=e[273];let ze;e[274]!==Ne||e[275]!==Ie||e[276]!==Re?(ze=t.jsxs(ut,{children:[Wt,t.jsxs(pt,{className:"space-y-4",children:[Ne,Ie,Re]})]}),e[274]=Ne,e[275]=Ie,e[276]=Re,e[277]=ze):ze=e[277];let ls;e[278]===Symbol.for("react.memo_cache_sentinel")?(ls=t.jsx(ft,{children:t.jsx(ht,{children:"Precio Base"})}),e[278]=ls):ls=e[278];let as;e[279]===Symbol.for("react.memo_cache_sentinel")?(as=t.jsx(d,{htmlFor:"base_price",children:"Precio Base *"}),e[279]=as):as=e[279];let Le;e[280]!==l?(Le=s=>l("base_price",s.target.value),e[280]=l,e[281]=Le):Le=e[281];let $e;e[282]!==i.base_price||e[283]!==Le?($e=t.jsx(p,{id:"base_price",type:"number",step:"0.01",value:i.base_price,onChange:Le}),e[282]=i.base_price,e[283]=Le,e[284]=$e):$e=e[284];let De;e[285]!==c.base_price?(De=c.base_price&&t.jsx("p",{className:"text-sm text-destructive",children:c.base_price}),e[285]=c.base_price,e[286]=De):De=e[286];let Ue;e[287]!==$e||e[288]!==De?(Ue=t.jsxs(ut,{children:[ls,t.jsx(pt,{children:t.jsxs("div",{className:"space-y-2",children:[as,$e,De]})})]}),e[287]=$e,e[288]=De,e[289]=Ue):Ue=e[289];let rs;e[290]===Symbol.for("react.memo_cache_sentinel")?(rs=t.jsx(ft,{children:t.jsx(ht,{children:"Restricciones y Opciones"})}),e[290]=rs):rs=e[290];let Ge;e[291]!==l?(Ge=s=>l("is_active",s),e[291]=l,e[292]=Ge):Ge=e[292];let Te;e[293]!==i.is_active||e[294]!==Ge?(Te=t.jsx(hs,{id:"is_active",checked:i.is_active,onCheckedChange:Ge}),e[293]=i.is_active,e[294]=Ge,e[295]=Te):Te=e[295];let cs;e[296]===Symbol.for("react.memo_cache_sentinel")?(cs=t.jsx(d,{htmlFor:"is_active",children:"Producto Activo"}),e[296]=cs):cs=e[296];let Be;e[297]!==Te?(Be=t.jsxs("div",{className:"flex items-center space-x-2",children:[Te,cs]}),e[297]=Te,e[298]=Be):Be=e[298];let He;e[299]!==l?(He=s=>l("is_restricted",s),e[299]=l,e[300]=He):He=e[300];let Me;e[301]!==i.is_restricted||e[302]!==He?(Me=t.jsx(hs,{id:"is_restricted",checked:i.is_restricted,onCheckedChange:He}),e[301]=i.is_restricted,e[302]=He,e[303]=Me):Me=e[303];let ns;e[304]===Symbol.for("react.memo_cache_sentinel")?(ns=t.jsx(d,{htmlFor:"is_restricted",children:"Producto Restringido"}),e[304]=ns):ns=e[304];let Oe;e[305]!==Me?(Oe=t.jsxs("div",{className:"flex items-center space-x-2",children:[Me,ns]}),e[305]=Me,e[306]=Oe):Oe=e[306];let Ke;e[307]!==l?(Ke=s=>l("age_verification_required",s),e[307]=l,e[308]=Ke):Ke=e[308];let Je;e[309]!==i.age_verification_required||e[310]!==Ke?(Je=t.jsx(hs,{id:"age_verification_required",checked:i.age_verification_required,onCheckedChange:Ke}),e[309]=i.age_verification_required,e[310]=Ke,e[311]=Je):Je=e[311];let os;e[312]===Symbol.for("react.memo_cache_sentinel")?(os=t.jsx(d,{htmlFor:"age_verification_required",children:"Requiere Verificación Edad"}),e[312]=os):os=e[312];let Xe;e[313]!==Je?(Xe=t.jsxs("div",{className:"flex items-center space-x-2",children:[Je,os]}),e[313]=Je,e[314]=Xe):Xe=e[314];let ds;e[315]===Symbol.for("react.memo_cache_sentinel")?(ds=t.jsx(d,{className:"mb-2 block",children:"Tipos de Restricción"}),e[315]=ds):ds=e[315];let Qe;if(e[316]!==i.restriction_type_ids||e[317]!==dt||e[318]!==_s){let s;e[320]!==i.restriction_type_ids||e[321]!==dt?(s=r=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hs,{id:`restriction_${r.id}`,checked:i.restriction_type_ids.includes(r.id),onCheckedChange:o=>dt(r.id,o)}),t.jsx(d,{htmlFor:`restriction_${r.id}`,className:"text-sm text-muted-foreground font-normal cursor-pointer",children:r.name})]},r.id),e[320]=i.restriction_type_ids,e[321]=dt,e[322]=s):s=e[322],Qe=_s.map(s),e[316]=i.restriction_type_ids,e[317]=dt,e[318]=_s,e[319]=Qe}else Qe=e[319];let We;e[323]!==Qe?(We=t.jsxs("div",{className:"pt-4 border-t",children:[ds,t.jsx("div",{className:"space-y-2",children:Qe})]}),e[323]=Qe,e[324]=We):We=e[324];let Ye;e[325]!==Be||e[326]!==Oe||e[327]!==Xe||e[328]!==We?(Ye=t.jsxs(ut,{children:[rs,t.jsxs(pt,{className:"space-y-4",children:[Be,Oe,Xe,We]})]}),e[325]=Be,e[326]=Oe,e[327]=Xe,e[328]=We,e[329]=Ye):Ye=e[329];const $s=xt?"Guardando...":"Actualizar Producto";let Ze;e[330]!==xt||e[331]!==$s?(Ze=t.jsx(h,{type:"submit",className:"flex-1",disabled:xt,children:$s}),e[330]=xt,e[331]=$s,e[332]=Ze):Ze=e[332];let ms;e[333]===Symbol.for("react.memo_cache_sentinel")?(ms=t.jsx(Xs,{href:"/adminfacchile/products",children:t.jsx(h,{type:"button",variant:"outline",children:"Cancelar"})}),e[333]=ms):ms=e[333];let et;e[334]!==Ze?(et=t.jsxs("div",{className:"flex gap-2",children:[Ze,ms]}),e[334]=Ze,e[335]=et):et=e[335];let tt;e[336]!==ze||e[337]!==Ue||e[338]!==Ye||e[339]!==et?(tt=t.jsxs("div",{className:"space-y-6",children:[ze,Ue,Ye,et]}),e[336]=ze,e[337]=Ue,e[338]=Ye,e[339]=et,e[340]=tt):tt=e[340];let st;e[341]!==ge||e[342]!==tt?(st=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[ge,tt]}),e[341]=ge,e[342]=tt,e[343]=st):st=e[343];let it;e[344]!==ks||e[345]!==st?(it=t.jsx("form",{onSubmit:ks,children:st}),e[344]=ks,e[345]=st,e[346]=it):it=e[346];let lt;e[347]!==it||e[348]!==v?(lt=t.jsxs("div",{className:"space-y-6 p-6",children:[v,it]}),e[347]=it,e[348]=v,e[349]=lt):lt=e[349];let fs;return e[350]!==lt||e[351]!==y?(fs=t.jsxs(hi,{breadcrumbs:vi,children:[y,lt]}),e[350]=lt,e[351]=y,e[352]=fs):fs=e[352],fs}function bi(m){return t.jsx(Os,{value:m.id.toString(),children:m.name},m.id)}function Ni(m){return t.jsx(Os,{value:m.id.toString(),children:m.name},m.id)}function Si(m){return t.jsx(Os,{value:m.id.toString(),children:m.name},m.id)}function Ci(m){return Ys(m)}function ki(m){return{...m,main_image:null,main_image_url:""}}export{el as default};
