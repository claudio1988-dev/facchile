import{c as z,a as A,j as t,r as D,H as M,L as E}from"./app-DxsfQUJi.js";import{A as q}from"./app-sidebar-layout-CWp90ihB.js";import{b as F,d as U,c as V,a as $,C as G}from"./card-t-JZ25Uq.js";import{a as w,c as l,T as P,b as r,d as Z,e as J}from"./table-DMsPuU9K.js";import{c as K,B,a as O}from"./button-PchWSbes.js";import{I as Q}from"./input-BvZvvOIr.js";import{B as H}from"./badge-C493SvYW.js";import{S as W}from"./search-BqiZJuHL.js";import{E as X}from"./eye-DZBwBLqe.js";/* empty css            */import"./breadcrumb-DQh3Drij.js";import"./index-DezMigX2.js";import"./dropdown-menu-BhlSbKAy.js";import"./index-CwI4k_fG.js";import"./index-CgxY_J7U.js";import"./index-CSEUMRIG.js";import"./index-CHmcnihG.js";import"./index-BI44xg6_.js";import"./log-out-CK-E1Ehb.js";import"./layout-grid-BgmpgEtx.js";import"./package-C1mDBw64.js";const Y=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],ee=K("FileCheck",Y);function Se(a){const e=z.c(36),{customers:s,filters:L}=a,[i,R]=A.useState(L.search||"");let j;e[0]!==i?(j=k=>{k.preventDefault(),D.get("/adminfacchile/customers",{search:i},{preserveState:!0})},e[0]=i,e[1]=j):j=e[1];const T=j;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[{title:"Dashboard",href:"/dashboard"},{title:"Clientes",href:"/adminfacchile/customers"}],e[2]=u):u=e[2];const I=u;let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(M,{title:"Gestión de Clientes"}),e[3]=b):b=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clientes"}),t.jsx("p",{className:"text-muted-foreground",children:"Administra la base de datos de clientes y verificaciones."})]})}),e[4]=g):g=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(W,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e[5]=N):N=e[5];let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_=k=>R(k.target.value),e[6]=_):_=e[6];let c;e[7]!==i?(c=t.jsxs("div",{className:"relative flex-1",children:[N,t.jsx(Q,{type:"search",placeholder:"Buscar por nombre, RUT o email...",className:"pl-8",value:i,onChange:_})]}),e[7]=i,e[8]=c):c=e[8];let y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(B,{type:"submit",children:"Buscar"}),e[9]=y):y=e[9];let n;e[10]!==T||e[11]!==c?(n=t.jsx("div",{className:"flex items-center gap-4 bg-background p-4 rounded-lg border",children:t.jsxs("form",{onSubmit:T,className:"flex gap-2 flex-1 max-w-sm",children:[c,y]})}),e[10]=T,e[11]=c,e[12]=n):n=e[12];let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(V,{children:"Listado de Clientes"}),e[13]=v):v=e[13];let o;e[14]!==s.data.length?(o=t.jsxs(F,{children:[v,t.jsxs(U,{children:["Total de clientes registrados: ",s.data.length]})]}),e[14]=s.data.length,e[15]=o):o=e[15];let S;e[16]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(P,{children:t.jsxs(w,{children:[t.jsx(r,{children:"Nombre"}),t.jsx(r,{children:"RUT"}),t.jsx(r,{children:"Email"}),t.jsx(r,{className:"text-center",children:"Verificado"}),t.jsx(r,{className:"text-center",children:"Pedidos"}),t.jsx(r,{children:"Registro"}),t.jsx(r,{className:"text-right",children:"Acciones"})]})}),e[16]=S):S=e[16];let d;e[17]!==s.data?(d=s.data.map(se),e[17]=s.data,e[18]=d):d=e[18];let m;e[19]!==s.data.length?(m=s.data.length===0&&t.jsx(w,{children:t.jsx(l,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No se encontraron clientes."})}),e[19]=s.data.length,e[20]=m):m=e[20];let h;e[21]!==d||e[22]!==m?(h=t.jsxs(Z,{children:[S,t.jsxs(J,{children:[d,m]})]}),e[21]=d,e[22]=m,e[23]=h):h=e[23];let x;e[24]!==s.last_page||e[25]!==s.links?(x=s.last_page>1&&t.jsx("div",{className:"mt-8 flex justify-center items-center gap-2",children:s.links.map(te)}),e[24]=s.last_page,e[25]=s.links,e[26]=x):x=e[26];let f;e[27]!==h||e[28]!==x?(f=t.jsxs($,{children:[h,x]}),e[27]=h,e[28]=x,e[29]=f):f=e[29];let p;e[30]!==o||e[31]!==f?(p=t.jsxs(G,{children:[o,f]}),e[30]=o,e[31]=f,e[32]=p):p=e[32];let C;return e[33]!==p||e[34]!==n?(C=t.jsxs(q,{breadcrumbs:I,children:[b,t.jsxs("div",{className:"p-6 space-y-6",children:[g,n,p]})]}),e[33]=p,e[34]=n,e[35]=C):C=e[35],C}function te(a,e){const s=!isNaN(Number(a.label));return t.jsx(B,{variant:a.active?"default":"outline",size:"sm",asChild:!0,disabled:!a.url,className:O("h-9",s?"w-9 p-0":"w-auto px-4"),children:t.jsx(E,{href:a.url||"#",dangerouslySetInnerHTML:{__html:a.label},preserveScroll:!0})},e)}function se(a){return t.jsxs(w,{children:[t.jsx(l,{className:"font-medium",children:a.name}),t.jsx(l,{children:a.rut||"-"}),t.jsx(l,{children:a.email}),t.jsx(l,{className:"text-center",children:a.is_verified?t.jsxs(H,{className:"bg-green-500 hover:bg-green-600",children:[t.jsx(ee,{className:"w-3 h-3 mr-1"})," Sí"]}):t.jsx(H,{variant:"outline",className:"text-gray-500",children:"No"})}),t.jsx(l,{className:"text-center",children:a.orders_count}),t.jsx(l,{children:a.created_at}),t.jsx(l,{className:"text-right",children:t.jsx(E,{href:`/adminfacchile/customers/${a.id}`,children:t.jsxs(B,{variant:"outline",size:"sm",children:[t.jsx(X,{className:"size-4 mr-2"}),"Detalles"]})})})]},a.id)}export{Se as default};
