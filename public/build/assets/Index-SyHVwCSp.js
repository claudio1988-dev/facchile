import{c as xe,a as je,j as s,L as ee,r as W,H as ue}from"./app-DxsfQUJi.js";import{A as pe}from"./app-layout-e9kzE5wy.js";import{b as re,c as ce,d as _e,C as ne,a as oe}from"./card-t-JZ25Uq.js";import{B as H}from"./button-PchWSbes.js";import{I as ge}from"./input-BvZvvOIr.js";import{B as de}from"./badge-C493SvYW.js";import{S as se,a as te,b as o,c as le,d as ae}from"./select-DpW0WDHc.js";import{a as ie,c,T as ve,b as n,d as Se,e as be}from"./table-DMsPuU9K.js";import{E as ye}from"./eye-DZBwBLqe.js";import{S as Ne}from"./square-pen-Bn8BzX94.js";import{T as Ce}from"./trash-2-DupyvzuP.js";import{P as Te}from"./plus-Dj-_MFh0.js";import{S as Pe}from"./search-BqiZJuHL.js";/* empty css            */import"./app-sidebar-layout-CWp90ihB.js";import"./breadcrumb-DQh3Drij.js";import"./index-DezMigX2.js";import"./dropdown-menu-BhlSbKAy.js";import"./index-CwI4k_fG.js";import"./index-CgxY_J7U.js";import"./index-CSEUMRIG.js";import"./index-CHmcnihG.js";import"./index-BI44xg6_.js";import"./log-out-CK-E1Ehb.js";import"./layout-grid-BgmpgEtx.js";import"./package-C1mDBw64.js";import"./index-CnkcuHUr.js";import"./chevron-down-JuN8FzWa.js";import"./check-BIGgmKJA.js";const ze=[{title:"Panel Administrativo",href:"/adminfacchile"},{title:"Productos",href:"/adminfacchile/products"}];function ns(i){const e=xe.c(79),{products:l,filters:a,categories:X,brands:Y}=i,[d,me]=je.useState(a.search||"");let L;e[0]!==d?(L=t=>{t.preventDefault(),W.get("/adminfacchile/products",{search:d},{preserveState:!0})},e[0]=d,e[1]=L):L=e[1];const Z=L;let $;e[2]!==a?($=(t,fe)=>{W.get("/adminfacchile/products",{...a,[t]:fe},{preserveState:!0})},e[2]=a,e[3]=$):$=e[3];const r=$,he=Ie;let k;e[4]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(ue,{title:"Productos - Panel Administrativo"}),e[4]=k):k=e[4];let F;e[5]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Productos"}),s.jsx("p",{className:"text-muted-foreground",children:"Gestiona el catálogo de productos de tu tienda"})]}),e[5]=F):F=e[5];let R;e[6]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsxs("div",{className:"flex items-center justify-between",children:[F,s.jsx(ee,{href:"/adminfacchile/products/create",children:s.jsxs(H,{children:[s.jsx(Te,{className:"mr-2 size-4"}),"Nuevo Producto"]})})]}),e[6]=R):R=e[6];let V;e[7]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsxs(re,{children:[s.jsx(ce,{children:"Filtros"}),s.jsx(_e,{children:"Busca y filtra productos"})]}),e[7]=V):V=e[7];let w;e[8]===Symbol.for("react.memo_cache_sentinel")?(w=t=>me(t.target.value),e[8]=w):w=e[8];let m;e[9]!==d?(m=s.jsx(ge,{placeholder:"Buscar productos...",value:d,onChange:w}),e[9]=d,e[10]=m):m=e[10];let D;e[11]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(H,{type:"submit",size:"icon",children:s.jsx(Pe,{className:"size-4"})}),e[11]=D):D=e[11];let h;e[12]!==Z||e[13]!==m?(h=s.jsxs("form",{onSubmit:Z,className:"flex gap-2",children:[m,D]}),e[12]=Z,e[13]=m,e[14]=h):h=e[14];let f;e[15]!==a.category_id?(f=a.category_id?.toString()||"all",e[15]=a.category_id,e[16]=f):f=e[16];let x;e[17]!==r?(x=t=>r("category_id",t==="all"?"":t),e[17]=r,e[18]=x):x=e[18];let q;e[19]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(se,{children:s.jsx(te,{placeholder:"Todas las categorías"})}),e[19]=q):q=e[19];let M;e[20]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(o,{value:"all",children:"Todas las categorías"}),e[20]=M):M=e[20];let j;e[21]!==X?(j=X.map(Ee),e[21]=X,e[22]=j):j=e[22];let u;e[23]!==j?(u=s.jsxs(le,{children:[M,j]}),e[23]=j,e[24]=u):u=e[24];let p;e[25]!==f||e[26]!==x||e[27]!==u?(p=s.jsxs(ae,{value:f,onValueChange:x,children:[q,u]}),e[25]=f,e[26]=x,e[27]=u,e[28]=p):p=e[28];let _;e[29]!==a.brand_id?(_=a.brand_id?.toString()||"all",e[29]=a.brand_id,e[30]=_):_=e[30];let g;e[31]!==r?(g=t=>r("brand_id",t==="all"?"":t),e[31]=r,e[32]=g):g=e[32];let G;e[33]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(se,{children:s.jsx(te,{placeholder:"Todas las marcas"})}),e[33]=G):G=e[33];let J;e[34]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(o,{value:"all",children:"Todas las marcas"}),e[34]=J):J=e[34];let v;e[35]!==Y?(v=Y.map(Be),e[35]=Y,e[36]=v):v=e[36];let S;e[37]!==v?(S=s.jsxs(le,{children:[J,v]}),e[37]=v,e[38]=S):S=e[38];let b;e[39]!==_||e[40]!==g||e[41]!==S?(b=s.jsxs(ae,{value:_,onValueChange:g,children:[G,S]}),e[39]=_,e[40]=g,e[41]=S,e[42]=b):b=e[42];let y;e[43]!==a.is_active?(y=a.is_active?.toString()||"all",e[43]=a.is_active,e[44]=y):y=e[44];let N;e[45]!==r?(N=t=>r("is_active",t==="all"?"":t),e[45]=r,e[46]=N):N=e[46];let K;e[47]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(se,{children:s.jsx(te,{placeholder:"Todos los estados"})}),e[47]=K):K=e[47];let O;e[48]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsxs(le,{children:[s.jsx(o,{value:"all",children:"Todos los estados"}),s.jsx(o,{value:"1",children:"Activos"}),s.jsx(o,{value:"0",children:"Inactivos"})]}),e[48]=O):O=e[48];let C;e[49]!==y||e[50]!==N?(C=s.jsxs(ae,{value:y,onValueChange:N,children:[K,O]}),e[49]=y,e[50]=N,e[51]=C):C=e[51];let T;e[52]!==h||e[53]!==p||e[54]!==b||e[55]!==C?(T=s.jsxs(ne,{children:[V,s.jsx(oe,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[h,p,b,C]})})]}),e[52]=h,e[53]=p,e[54]=b,e[55]=C,e[56]=T):T=e[56];let P;e[57]!==l.total?(P=s.jsx(re,{children:s.jsxs(ce,{children:["Productos (",l.total,")"]})}),e[57]=l.total,e[58]=P):P=e[58];let Q;e[59]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(ve,{children:s.jsxs(ie,{children:[s.jsx(n,{children:"Producto"}),s.jsx(n,{children:"Categoría"}),s.jsx(n,{children:"Marca"}),s.jsx(n,{children:"Precio"}),s.jsx(n,{children:"Estado"}),s.jsx(n,{children:"Fecha"}),s.jsx(n,{className:"text-right",children:"Acciones"})]})}),e[59]=Q):Q=e[59];let z;e[60]!==l.data?(z=l.data.length===0?s.jsx(ie,{children:s.jsx(c,{colSpan:7,className:"text-center",children:"No se encontraron productos"})}):l.data.map(t=>s.jsxs(ie,{children:[s.jsx(c,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.main_image_url&&s.jsx("img",{src:t.main_image_url,alt:t.name,className:"size-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.slug})]})]})}),s.jsx(c,{children:t.category||"-"}),s.jsx(c,{children:t.brand||"-"}),s.jsxs(c,{children:["$",parseFloat(t.base_price.toString()).toLocaleString("es-CL")]}),s.jsxs(c,{children:[s.jsx(de,{variant:t.is_active?"default":"secondary",children:t.is_active?"Activo":"Inactivo"}),t.is_restricted&&s.jsx(de,{variant:"destructive",className:"ml-2",children:"Restringido"})]}),s.jsx(c,{children:t.created_at}),s.jsx(c,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{href:`/adminfacchile/products/${t.id}`,children:s.jsx(H,{variant:"outline",size:"icon",children:s.jsx(ye,{className:"size-4"})})}),s.jsx(ee,{href:`/adminfacchile/products/${t.id}/edit`,children:s.jsx(H,{variant:"outline",size:"icon",children:s.jsx(Ne,{className:"size-4"})})}),s.jsx(H,{variant:"outline",size:"icon",onClick:()=>he(t.id),children:s.jsx(Ce,{className:"size-4"})})]})})]},t.id)),e[60]=l.data,e[61]=z):z=e[61];let A;e[62]!==z?(A=s.jsxs(Se,{children:[Q,s.jsx(be,{children:z})]}),e[62]=z,e[63]=A):A=e[63];let B;e[64]!==a||e[65]!==l.current_page||e[66]!==l.data.length||e[67]!==l.last_page||e[68]!==l.total?(B=l.last_page>1&&s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",l.data.length," de ",l.total," productos"]}),s.jsx("div",{className:"flex gap-2",children:Array.from({length:l.last_page},Ae).map(t=>s.jsx(H,{variant:t===l.current_page?"default":"outline",size:"sm",onClick:()=>W.get("/adminfacchile/products",{...a,page:t}),children:t},t))})]}),e[64]=a,e[65]=l.current_page,e[66]=l.data.length,e[67]=l.last_page,e[68]=l.total,e[69]=B):B=e[69];let E;e[70]!==A||e[71]!==B?(E=s.jsxs(oe,{children:[A,B]}),e[70]=A,e[71]=B,e[72]=E):E=e[72];let I;e[73]!==P||e[74]!==E?(I=s.jsxs(ne,{children:[P,E]}),e[73]=P,e[74]=E,e[75]=I):I=e[75];let U;return e[76]!==T||e[77]!==I?(U=s.jsxs(pe,{breadcrumbs:ze,children:[k,s.jsxs("div",{className:"space-y-6 p-6",children:[R,T,I]})]}),e[76]=T,e[77]=I,e[78]=U):U=e[78],U}function Ae(i,e){return e+1}function Be(i){return s.jsx(o,{value:i.id.toString(),children:i.name},i.id)}function Ee(i){return s.jsx(o,{value:i.id.toString(),children:i.name},i.id)}function Ie(i){confirm("¿Estás seguro de que deseas eliminar este producto?")&&W.delete(`/adminfacchile/products/${i}`)}export{ns as default};
