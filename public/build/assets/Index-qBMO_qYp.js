import{c as D,a as O,j as l,r as H,H as G,L as U}from"./app-DxsfQUJi.js";import{A as W}from"./app-layout-e9kzE5wy.js";import{b as q,c as J,C as M,a as R}from"./card-t-JZ25Uq.js";import{B as $,a as K}from"./button-PchWSbes.js";import{I as Q}from"./input-BvZvvOIr.js";import{B as L}from"./badge-C493SvYW.js";import{S as X,a as Y,c as Z,b as x,d as ee}from"./select-DpW0WDHc.js";import{a as B,c as t,T as le,b as s,d as ae,e as te}from"./table-DMsPuU9K.js";import{S as se}from"./search-BqiZJuHL.js";import{E as re}from"./eye-DZBwBLqe.js";/* empty css            */import"./app-sidebar-layout-CWp90ihB.js";import"./breadcrumb-DQh3Drij.js";import"./index-DezMigX2.js";import"./dropdown-menu-BhlSbKAy.js";import"./index-CwI4k_fG.js";import"./index-CgxY_J7U.js";import"./index-CSEUMRIG.js";import"./index-CHmcnihG.js";import"./index-BI44xg6_.js";import"./log-out-CK-E1Ehb.js";import"./layout-grid-BgmpgEtx.js";import"./package-C1mDBw64.js";import"./index-CnkcuHUr.js";import"./chevron-down-JuN8FzWa.js";import"./check-BIGgmKJA.js";const ie=[{title:"Panel Administrativo",href:"/adminfacchile"},{title:"Pedidos",href:"/adminfacchile/orders"}],z={pending:{label:"Pendiente",color:"bg-yellow-500"},processing:{label:"Procesando",color:"bg-blue-500"},shipped:{label:"Enviado",color:"bg-indigo-500"},delivered:{label:"Entregado",color:"bg-green-500"},cancelled:{label:"Cancelado",color:"bg-red-500"}},I={webpay:{label:"Webpay",color:"bg-purple-500"},transfer:{label:"Transferencia",color:"bg-blue-500"},transferencia:{label:"Transferencia",color:"bg-blue-500"},"N/A":{label:"No especificado",color:"bg-gray-400"}},V={pending:{label:"Pendiente",color:"bg-yellow-500 text-white"},paid:{label:"Pagado",color:"bg-green-500 text-white"},failed:{label:"Fallido",color:"bg-red-500 text-white"},refunded:{label:"Reembolsado",color:"bg-gray-500 text-white"}};function He(a){const e=D.c(32),{orders:b,filters:f}=a,[i,k]=O.useState(f.search||"");let j;e[0]!==i?(j=r=>{r.preventDefault(),H.get("/adminfacchile/orders",{search:i},{preserveState:!0})},e[0]=i,e[1]=j):j=e[1];const T=j;let u;e[2]!==f?(u=(r,F)=>{H.get("/adminfacchile/orders",{...f,[r]:F==="all"?"":F},{preserveState:!0})},e[2]=f,e[3]=u):u=e[3];const E=u;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(G,{title:"Pedidos - Panel Administrativo"}),e[4]=g):g=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pedidos"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestiona las órdenes de compra"})]})}),e[5]=y):y=e[5];let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_=l.jsx(q,{children:l.jsx(J,{children:"Filtros"})}),e[6]=_):_=e[6];let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=r=>k(r.target.value),e[7]=S):S=e[7];let o;e[8]!==i?(o=l.jsx(Q,{placeholder:"Buscar por Nº Orden, Cliente o RUT...",value:i,onChange:S}),e[8]=i,e[9]=o):o=e[9];let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx($,{type:"submit",size:"icon",children:l.jsx(se,{className:"size-4"})}),e[10]=N):N=e[10];let c;e[11]!==T||e[12]!==o?(c=l.jsxs("form",{onSubmit:T,className:"flex gap-2 w-full max-w-sm",children:[o,N]}),e[11]=T,e[12]=o,e[13]=c):c=e[13];const A=f.status||"all";let n;e[14]!==E?(n=r=>E("status",r),e[14]=E,e[15]=n):n=e[15];let v;e[16]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(X,{className:"w-[200px]",children:l.jsx(Y,{placeholder:"Estado del pedido"})}),e[16]=v):v=e[16];let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=l.jsxs(Z,{children:[l.jsx(x,{value:"all",children:"Todos"}),l.jsx(x,{value:"pending",children:"Pendiente"}),l.jsx(x,{value:"processing",children:"Procesando"}),l.jsx(x,{value:"shipped",children:"Enviado"}),l.jsx(x,{value:"delivered",children:"Entregado"}),l.jsx(x,{value:"cancelled",children:"Cancelado"})]}),e[17]=C):C=e[17];let d;e[18]!==A||e[19]!==n?(d=l.jsxs(ee,{value:A,onValueChange:n,children:[v,C]}),e[18]=A,e[19]=n,e[20]=d):d=e[20];let m;e[21]!==d||e[22]!==c?(m=l.jsxs(M,{children:[_,l.jsx(R,{children:l.jsxs("div",{className:"flex gap-4",children:[c,d]})})]}),e[21]=d,e[22]=c,e[23]=m):m=e[23];let w;e[24]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(le,{children:l.jsxs(B,{children:[l.jsx(s,{children:"Nº Orden"}),l.jsx(s,{children:"Cliente"}),l.jsx(s,{children:"Fecha"}),l.jsx(s,{children:"Estado Pedido"}),l.jsx(s,{children:"Medio Pago"}),l.jsx(s,{children:"Estado Pago"}),l.jsx(s,{children:"Total"}),l.jsx(s,{className:"text-right",children:"Acciones"})]})}),e[24]=w):w=e[24];let h;e[25]!==b.data?(h=b.data.length===0?l.jsx(B,{children:l.jsx(t,{colSpan:6,className:"text-center py-8",children:"No se encontraron pedidos"})}):b.data.map(oe),e[25]=b.data,e[26]=h):h=e[26];let p;e[27]!==h?(p=l.jsx(M,{children:l.jsx(R,{className:"p-0",children:l.jsxs(ae,{children:[w,l.jsx(te,{children:h})]})})}),e[27]=h,e[28]=p):p=e[28];let P;return e[29]!==m||e[30]!==p?(P=l.jsxs(W,{breadcrumbs:ie,children:[g,l.jsxs("div",{className:"space-y-6 p-6",children:[y,m,p]})]}),e[29]=m,e[30]=p,e[31]=P):P=e[31],P}function oe(a){return l.jsxs(B,{children:[l.jsx(t,{className:"font-medium",children:a.order_number}),l.jsx(t,{children:a.customer}),l.jsx(t,{children:a.created_at}),l.jsx(t,{children:l.jsx(L,{className:z[a.status]?.color||"bg-gray-500",children:z[a.status]?.label||a.status})}),l.jsx(t,{children:l.jsx(L,{variant:"outline",className:K("border-2 font-bold",I[(a.payment_method||"N/A").toLowerCase()]?.color.replace("bg-","text-").replace("500","600")||"text-gray-500"),children:I[(a.payment_method||"N/A").toLowerCase()]?.label||a.payment_method})}),l.jsx(t,{children:l.jsx(L,{className:V[a.payment_status]?.color||"bg-gray-500",children:V[a.payment_status]?.label||a.payment_status})}),l.jsxs(t,{children:["$",parseFloat(a.total.toString()).toLocaleString("es-CL")]}),l.jsx(t,{className:"text-right",children:l.jsx(U,{href:`/adminfacchile/orders/${a.id}`,children:l.jsxs($,{variant:"outline",size:"sm",children:[l.jsx(re,{className:"size-4 mr-2"}),"Ver Detalles"]})})})]},a.id)}export{He as default};
